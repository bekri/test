<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ... (other head elements) ... -->
    <title>Enter Password</title>
</head>
<body>
    <div>
        <h1>Welcome to Bekri's Site</h1>
        <p>Please enter the password to access the site:</p>
        <form id="passwordForm">
            <input type="password" id="passwordInput" placeholder="Password-Protected" required>
            <button type="button" onclick="checkPassword()">Submit</button>
        </form>
    </div>
    <script>
        // JavaScript code to check the password against the environment variable
        function checkPassword() {
            const enteredPassword = document.getElementById("passwordInput").value;
            fetch('/check-password', {
                method: 'POST',
                body: JSON.stringify({ password: enteredPassword }),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.accessGranted) {
                    // Password is correct, redirect to the main page
                    window.location.href = '/main.html';
                } else {
                    // Password is incorrect, show an error message
                    alert('Incorrect password. Please try again.');
                }
            })
            .catch(error => {
                console.error('Error checking password:', error);
            });
        }
    </script>
</body>
</html>
